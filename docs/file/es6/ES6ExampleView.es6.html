<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">es6/ES6ExampleView.es6 | ES6 Widget Example API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <a data-ice="repoURL" href="https://github.com/bollwyvl/es6-widget-example.git" class="repo-url-github">Repository</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/es6/ES6ExampleModel.es6~ES6ExampleModel.html">ES6ExampleModel</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/es6/ES6ExampleView.es6~ES6ExampleView.html">ES6ExampleView</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">es6/ES6ExampleView.es6</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import $ from &quot;jquery&quot;;

import {DOMWidgetView} from &quot;nbextensions/widgets/widgets/js/widget&quot;;
import {WidgetManager} from &quot;nbextensions/widgets/widgets/js/manager&quot;;


/**
 * A map of Bootstrap CSS classes keyed by their semantic name.
 */
let class_map = {
  primary: [&quot;btn-primary&quot;],
  success: [&quot;btn-success&quot;],
  info: [&quot;btn-info&quot;],
  warning: [&quot;btn-warning&quot;],
  danger: [&quot;btn-danger&quot;]
};


/**
 * A widget to test out using ES6 classes with Backbone
  */
export class ES6ExampleView extends DOMWidgetView {
  /**
   * @return {String} the name of the tag to create (not `&lt;div/&gt;`)
   */
  tagName() {
    return &quot;button&quot;;
  }

  /**
   * @return {String} the classes to apply to the element
   */
  className() {
    return &quot;ipy-widget widget-button btn btn-default&quot;;
  }

  /**
   * Called when view is rendered, but not yet added to DOM.
   */
  render() {
    this.$el.attr(&quot;data-toggle&quot;, &quot;tooltip&quot;);

    this.listenTo(this.model, &quot;change:button_style&quot;, this.update_button_style);

    this.update_button_style(&quot;&quot;);

    // Set defaults.
    this.update();
  }

  /**
   * Update the contents of this view
   *
   * Called when the model is changed. The model may have been
   * changed by another view or by a state update from the back-end.
   *
   */
  update() {
    let description = this.model.get(&quot;description&quot;),
      icon = this.model.get(&quot;icon&quot;);

    this.$el
      .prop(&quot;disabled&quot;, this.model.get(&quot;disabled&quot;))
      .attr(&quot;title&quot;, this.model.get(&quot;tooltip&quot;));

    if (description.trim().length === 0 &amp;&amp; icon.trim().length === 0) {
      this.$el.html(&quot;&amp;nbsp;&quot;); // Preserve button height
    } else {
      this.$el.text(description);
      $(&quot;&lt;i class=\&quot;fa\&quot;&gt;&lt;/i&gt;&quot;).prependTo(this.$el).addClass(icon);
    }

    super.update();
  }

  /**
   * Set the [Bootstrap `btn-` semantic class](http://getbootstrap.com/css/#buttons-options).
   */
  update_button_style(previous_trait_value) {
    this.update_mapped_classes(class_map, &quot;button_style&quot;, previous_trait_value);
  }

  /**
   * @return {object} DOM events and names of handler methods.
   */
  events() {
    return {
      click: &quot;_handle_click&quot;
    };
  }

  /**
   * Handles when the button is clicked.
   */
  _handle_click() {
    console.info(&quot;CLICKED&quot;, this.model.get(&quot;foo&quot;).get(&quot;value&quot;));
    this.send({event: &quot;click&quot;});
  }
}


WidgetManager.register_widget_view(&quot;ES6ExampleView&quot;, ES6ExampleView);
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.4.3)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
